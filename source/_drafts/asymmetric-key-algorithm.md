---
title: 보안을 위한 비대칭키 RSA 알고리즘 적용
date: 2020-02-29 21:26:31
description: 서비스 보안을 위한 비대칭키 RSA 알고리즘의 적용
tags:
 - security
 - web security
 - public key
 - rsa
categories:
 - security
 - nodejs
thumbnailImage: thumbnail.png
thumbnailImagePosition: left
autoThumbnailImage: yes
coverSize: full
coverMeta: in
coverImage: cover.jpg
---

이번 포스팅은 서비스 보안을 위한 비대칭키 RSA 알고리즘을 Nodejs 로 실습 해보겠습니다. 

<!-- excerpt -->


## 목차

* [배경](#배경)

* [보안 관점](#보안-관점)

* [비대칭키란](#비대칭키란)

* [마치며](#마치며)

* [참고](#참고)


## 배경

자사 서비스를 운영 하던 중에, 개발자 팀원분께서 문제 될만한 부분을 제기하셨습니다. 
`사용자 로그인시 ID/PW 를 서버로 전송하는데 평문을 전송하는데, 암호화 해서 전송해야 하지 않느냐?` 라고 제기하셨습니다.

저의 답변은 서비스에 `https`를 적용했기 때문에 통신간의 보안 문제는 없다고 말씀 드렸습니디.

그런데 문득 네이버나 금융기관에서는 로그인 할 때, 사용자의 ID/PW 를 어떻게 서버로 전송하는지가 궁금해졌습니다. 그래서 `https` 적용된 [네이버 로그인](https://nid.naver.com/nidlogin.login)을 하여 `network request` 를 확인했습니다.

<br>

{% image fancybox center clear naver-login-network.png 90% '크롬 개발자 네트워크 탭 - Doc 타입 - 네이버 로그인 request 로그' %}

이미지에서 첫번째 로그를 선택하고 우측의 파란색 부분인 `encpw`를 확인 할 수 있습니다. 속성의 의미로는 `암호화된 pw` 로 추측됩니다. 다른 속성값을 확인했을 때는 저의 비밀번호가 노출되는 부분은 확인 되지 않았습니다.

네이버를 확인 한 후, `https` 적용된 홈택스도 확인한 암호화된 PW를 전송하는 것을 확인했습니다.

그래서 `https를 적용했음에도 불구하고 왜 PW를 암호화하여 전송할까?` 의문이 들어 풀어 보려합니다.

---

## 보안 관점

`https를 적용했음에도 불구하고 왜 PW를 암호화하여 전송할까?` 라는 의문을 다른 관점에서 볼 때, 그 이유를 알 수 있었습니다.

1. 통신간 암호화
 <span style='color:red'>기기와 서버간에 주고 받는 데이터의 중점을 둡니다.</span> 데이터를 주고 받을 때의 네트워크는 자신뿐만 아니라 제3자에게도 노출되기 때문에 암호화 해야 합니다 예를 들어 cafe wifi 를 사용 할 때, 내가 https 가 적용되지 않은 홈페이지에 로그인 할 경우, 같은 네트워크를 사용중인 제3자가 여러분의 로그인 정보를 훔쳐 볼 수 있습니다. 이를 `스니핑`이라고 합니다.  

2. 종단간 암호화
 <span style='color:red'>종단의 이미인 끝과 끝의 중점을 둡니다.</span> 끝과 끝은 기기와 서버로 비유할 수 있습니다. https가 적용한 상태라도 서바가 데이터를 받는 순간 평문 입니다. 이는 사용자의 로그인 정보 또는 카카오톡 메시지를 서버 담당자 이외의 제3자가 쉽게 볼 수 있는 환경에 노출되어 보안 문제가 생깁니다. 해커에게 뚫리게 되면 엄청나게 위험해지는 것입니다. 

 
 
 ## 참고

 - [카톡도 '종단간 암호화' 지원하는데…텔레그램이 뭇매 맞는 이유는?](http://it.chosun.com/site/data/html_dir/2018/05/04/2018050485004.html)